(this.webpackJsonptimetablemanager=this.webpackJsonptimetablemanager||[]).push([[0],{131:function(e,t,a){},213:function(e,t,a){e.exports=a(370)},218:function(e,t,a){},370:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),s=a.n(c),l=(a(218),a(40)),o=a(41),u=a(31),i=a(43),h=a(44),m=a(380),d=a(381),p=a(382),v=a(391),f=a(383),b=a(384),E=(a(131),a(66)),g=function(e){Object(h.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isNavOpen:!1},n.toggleNav=n.toggleNav.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{dark:!0,expand:"md"},r.a.createElement("div",{className:"container"},r.a.createElement(d.a,{onClick:this.toggleNav}),r.a.createElement(p.a,{className:"mr-auto",href:"/"},"Time Table Manager"),r.a.createElement(v.a,{isOpen:this.state.isNavOpen,navbar:!0},r.a.createElement(f.a,{navbar:!0},r.a.createElement(b.a,null,r.a.createElement(E.b,{className:"nav-link",to:"/home"},r.a.createElement("span",{className:"fa fa-home fa-lg"})," Home")))))),r.a.createElement("hr",null))}}]),a}(n.Component),O=a(18),C=a(68),j=a(88),S=a(389);function y(e){var t=e.course,a=Object.keys(t).map((function(e){return r.a.createElement(S.a.Cell,null,t[e])}));return r.a.createElement(S.a.Row,null,a)}var k=function(e){Object(h.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.data.slice(1),t=this.props.data[0];if(e){var a=e.map((function(e){return r.a.createElement(y,{course:e})})),n=t.map((function(e){return r.a.createElement(S.a.HeaderCell,null,e)}));return r.a.createElement("div",{className:"text-center"},r.a.createElement(S.a,{celled:!0,striped:!0,definition:!0,selectable:!0,responsive:!0},r.a.createElement(S.a.Header,null,n),r.a.createElement(S.a.Body,null,a)))}return r.a.createElement("h2",null," Try Uploading the database file",r.a.createElement("span",{className:"fa fa-filter"}))}}]),a}(n.Component),N=a(387),F=a(386),T=a(390),w=a(385),_=function(e){Object(h.a)(a,e);var t=Object(i.a)(a);function a(e){var n;Object(l.a)(this,a);return(n=t.call(this,e)).state={courses:[],schedule:[["","9:00-10:30","10:30-12","12:00-1:30","1:30-2:30","2:30-4:00","4:00-5:30"],["Mon","","","","","",""],["Tue","","","","","",""],["Wed","","","","","",""],["Thu","","","","","",""],["Fri","","","","","",""]],file:""},n.handleCourseChange=n.handleCourseChange.bind(Object(u.a)(n)),n.updateSchedule=n.updateSchedule.bind(Object(u.a)(n)),n.onChange=n.onChange.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"updateSchedule",value:function(){var e=this.state.schedule;this.state.courses[this.state.courses.length-1]&&(e[1][1]=e[1][1].concat(this.state.courses[this.state.courses.length-1]),this.setState({schedule:e}))}},{key:"onChange",value:function(e){var t=this;this.setState(Object(j.a)({},e.target.id,e.target.files[0]),(function(){var e=new FileReader;e.readAsText(t.state.file),e.onloadend=function(){var a=t.csvJSON(e.result);t.setState({timetable:a})}}))}},{key:"handleCourseChange",value:function(e,t){var a=this,n=(t||e.target).value;this.setState(Object(C.a)({},this.state.courses,{courses:n}),(function(){return a.updateSchedule()}))}},{key:"csvJSON",value:function(e){for(var t=e.split("\n"),a=[],n=t[0].split(","),r=0;r<t.length;r++){for(var c={},s=t[r].split(","),l=0;l<n.length;l++)s[l]=s[l].replace("\r",""),c[n[l]]=s[l].split(" ");a.push(c)}return a}},{key:"render",value:function(){var e=[{key:"loading",value:r.a.createElement(w.a,null),text:r.a.createElement(w.a,null),disabled:!0}];return this.props.courselist&&(e=this.props.courselist),r.a.createElement("div",{className:"container"},r.a.createElement(N.a,null,r.a.createElement(N.a.Field,null,r.a.createElement(F.a,{type:"file",id:"file",onChange:this.onChange})),r.a.createElement(N.a.Field,null,r.a.createElement(T.a,{placeholder:"Courses",fluid:!0,multiple:!0,search:!0,openOnFocus:!0,clearable:!0,selection:!0,options:e,value:this.state.courses,onChange:this.handleCourseChange}))),r.a.createElement("hr",null),r.a.createElement(k,{data:this.state.schedule}))}}]),a}(n.Component),H=a(123),U=a.n(H),x=a(196),I=a(197),R=a.n(I),J=a(93),A=function(e){Object(h.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).collectCourse=n.collectCourse.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"collectCourse",value:function(){this.props.courses.courses||this.props.fetchCourse()}},{key:"render",value:function(){var e=this;return setInterval(this.collectCourse,1e4),r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(O.d,null,r.a.createElement(O.b,{path:"/home",component:function(){return r.a.createElement(_,{courselist:e.props.courses.courses})}}),r.a.createElement(O.a,{to:"/home"})))}}]),a}(n.Component),M=Object(O.g)(Object(J.b)((function(e){return{courses:e.courses}}),(function(e){return{fetchCourse:function(){return e(function(){var e=Object(x.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("https://jsonserver-f.herokuapp.com/itissandeep98/TimeTableManager//courses").then((function(e){e.data.courses?t({type:"COURSE_FETCH_SUCCESS",courses:e.data.courses}):t({type:"COURSE_FETCH_FAILED",errmess:"Courses Can't be Fetched"})})).catch((function(e){t({type:"COURSE_FETCH_FAILED",errmess:"Error in connection with Server"})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(A));var B=function(){return r.a.createElement(E.a,{basename:"/TimeTableManager"},r.a.createElement("div",{className:"App"},r.a.createElement(M,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(366),a(367),a(368),a(369);var D=a(52),L=a(199),W=a(200),$=a.n(W),q={},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COURSE_FETCH_SUCCESS":var a=t.courses;return Object(C.a)({},e,{courses:a,errmess:null});case"COURSE_FETCH_FAILED":return Object(C.a)({},e,{errmess:t.errmess});default:return e}},G=Object(D.c)({courses:z});var K=function(){var e=function(){try{var e=localStorage.getItem("timetablestate");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),t=Object(D.d)(G,e,Object(D.a)(L.a,$.a));return t.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("timetablestate",t)}catch(a){console.log(a)}}(t.getState())})),t}();s.a.render(r.a.createElement(J.a,{store:K},r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[213,1,2]]]);
//# sourceMappingURL=main.407174e0.chunk.js.map