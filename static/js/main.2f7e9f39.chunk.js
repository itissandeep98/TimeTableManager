(this.webpackJsonptimetablemanager=this.webpackJsonptimetablemanager||[]).push([[0],{128:function(e,t,a){},212:function(e,t,a){e.exports=a(369)},217:function(e,t,a){},369:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),l=a.n(c),s=(a(217),a(27)),o=a(28),u=a(34),i=a(29),m=a(30),h=a(379),p=a(380),f=a(381),v=a(394),d=a(382),E=a(383),b=(a(128),a(59)),O=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isNavOpen:!1},n.toggleNav=n.toggleNav.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{dark:!0,expand:"md"},r.a.createElement("div",{className:"container"},r.a.createElement(p.a,{onClick:this.toggleNav}),r.a.createElement(f.a,{className:"mr-auto",href:"/"},"Time Table Manager"),r.a.createElement(v.a,{isOpen:this.state.isNavOpen,navbar:!0},r.a.createElement(d.a,{navbar:!0},r.a.createElement(E.a,null,r.a.createElement(b.b,{className:"nav-link",to:"/home"},r.a.createElement("span",{className:"fa fa-home fa-lg"})," Home")),r.a.createElement(E.a,null,r.a.createElement(b.b,{className:"nav-link",to:"/display"},r.a.createElement("span",{className:"fa fa-info fa-lg"})," Display")))))),r.a.createElement("hr",null))}}]),a}(n.Component),g=a(87),C=a(385),j=a(386),y=a(387),k=a(388),N=a(389),S=a(384);function F(e){var t=e.course,a=Object.keys(t).map((function(e){return r.a.createElement("td",null,t[e])}));return r.a.createElement("tr",{key:t[Object.keys(t)[0]]},a)}var T=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.Courses.slice(1),t=this.props.Courses[0];if(e){var a=e.map((function(e){return r.a.createElement(F,{course:e})})),n=Object.keys(t).map((function(e){return r.a.createElement("th",null,e)}));return r.a.createElement("div",{className:"text-center"},r.a.createElement(S.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,n),r.a.createElement("tbody",null,a)))}return r.a.createElement("h2",null," Try Uploading the database file",r.a.createElement("span",{className:"fa fa-filter"}))}}]),a}(n.Component),w=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={database:"",courses:""},n.onChange=n.onChange.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"onChange",value:function(e){var t=this;this.setState(Object(g.a)({},e.target.id,e.target.files[0]),(function(){var e=new FileReader;e.readAsText(t.state.database),e.onloadend=function(){var a=t.csvJSON(e.result);t.setState({courses:a})}}))}},{key:"csvJSON",value:function(e){for(var t=e.split("\n"),a=[],n=t[0].split(","),r=0;r<t.length;r++){for(var c={},l=t[r].split(","),s=0;s<n.length;s++)c[n[s]]=l[s];a.push(c)}return a}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement(C.a,null,r.a.createElement(j.a,null,r.a.createElement(y.a,{htmlFor:"database"},"Upload the database file"),r.a.createElement(k.a,{type:"file",id:"database",onChange:this.onChange}),r.a.createElement(N.a,null,"Upload only valid CSV files")))),r.a.createElement("hr",null),r.a.createElement(T,{Courses:this.state.courses}))}}]),a}(n.Component),U=a(18),_=a(68);function x(e){var t=e.course,a=Object.keys(t).map((function(e){return r.a.createElement("td",null,t[e])}));return r.a.createElement("tr",{key:t[Object.keys(t)[0]]},a)}var I=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.data.slice(1),t=this.props.data[0];if(e){var a=e.map((function(e){return r.a.createElement(x,{course:e})})),n=t.map((function(e){return r.a.createElement("th",{key:e},e)}));return r.a.createElement("div",{className:"text-center"},r.a.createElement(S.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,n),r.a.createElement("tbody",null,a)))}return r.a.createElement("h2",null," Try Uploading the database file",r.a.createElement("span",{className:"fa fa-filter"}))}}]),a}(n.Component),H=a(391),J=a(393),R=a(390),A=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={course:[]},n.handleCourseChange=n.handleCourseChange.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"handleCourseChange",value:function(e,t){var a=(t||e.target).value;this.setState(Object(_.a)({},this.state.courses,{courses:a}))}},{key:"render",value:function(){var e=[{key:"loading",value:r.a.createElement(R.a,null),text:r.a.createElement(R.a,null),disabled:!0}];return this.props.courselist&&(e=this.props.courselist),r.a.createElement("div",{className:"container"},r.a.createElement(H.a,null,r.a.createElement(J.a,{placeholder:"Courses",fluid:!0,multiple:!0,search:!0,openOnFocus:!0,clearable:!0,selection:!0,options:e,value:this.state.courses,onChange:this.handleCourseChange})),r.a.createElement("hr",null),r.a.createElement(I,{data:[["","9:00-10:30","10:30-12","12:00-1:30","1:30-2:30","2:30-4:00","4:00-5:30"],["Mon","","","","","",""],["Tue","","","","","",""],["Wed","","","","","",""],["Thu","","","","","",""],["Fri","","","","","",""]]}))}}]),a}(n.Component),D=a(121),M=a.n(D),L=a(196),W=a(197),B=a.n(W),V=a(91),$=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).collectCourse=n.collectCourse.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"collectCourse",value:function(){this.props.courses.courses||this.props.fetchCourse()}},{key:"render",value:function(){var e=this;return setInterval(this.collectCourse,6e4),r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement(U.d,null,r.a.createElement(U.b,{path:"/display",component:function(){return r.a.createElement(w,null)}}),r.a.createElement(U.b,{path:"/home",component:function(){return r.a.createElement(A,{courselist:e.props.courses.courses})}}),r.a.createElement(U.a,{to:"/home"})))}}]),a}(n.Component),q=Object(U.g)(Object(V.b)((function(e){return{courses:e.courses}}),(function(e){return{fetchCourse:function(){return e(function(){var e=Object(L.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("http://127.0.0.1:5000/courses").then((function(e){e.data.success?t({type:"COURSE_FETCH_SUCCESS",courses:e.data.courses}):t({type:"COURSE_FETCH_FAILED",errmess:"Courses Can't be Fetched"})})).catch((function(e){t({type:"COURSE_FETCH_FAILED",errmess:"Error in connection with Server"})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))($));var z=function(){return r.a.createElement(b.a,{basename:"/TimeTableManager"},r.a.createElement("div",{className:"App"},r.a.createElement(q,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(365),a(366),a(367),a(368);var G=a(50),K=a(199),P=a(200),Q=a.n(P),X={},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COURSE_FETCH_SUCCESS":var a=t.courses;return Object(_.a)({},e,{courses:a,errmess:null});case"COURSE_FETCH_FAILED":return Object(_.a)({},e,{errmess:t.errmess});default:return e}},Z=Object(G.c)({courses:Y});var ee=function(){var e=function(){try{var e=localStorage.getItem("timetablestate");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),t=Object(G.d)(Z,e,Object(G.a)(K.a,Q.a));return t.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("timetablestate",t)}catch(a){console.log(a)}}(t.getState())})),t}();l.a.render(r.a.createElement(V.a,{store:ee},r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[212,1,2]]]);
//# sourceMappingURL=main.2f7e9f39.chunk.js.map