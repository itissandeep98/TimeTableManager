(this.webpackJsonptimetablemanager=this.webpackJsonptimetablemanager||[]).push([[0],{124:function(e,t,n){},276:function(e,t,n){e.exports=n(483)},281:function(e,t,n){},483:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(33),o=n.n(s),c=(n(281),n(50)),l=n(51),i=n(52),u=n(53),d=n(40),h=n(162),m=n.n(h),p=n(244),f=n(112),v=n.n(f),g=(n(124),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar-dark text-center d-print-none"},r.a.createElement("h1",null,"Time Table Creator")),r.a.createElement("hr",null))}),E=n(35),b=n(54),C=n(500);function O(e){var t=e.day.map((function(e){return r.a.createElement("td",{style:e.length>1?{background:"#eb4034"}:null,className:e.length>0?"border":null},r.a.createElement(C.a,{items:e}))}));return r.a.createElement("tr",null,t)}var S=n(491),k=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.data.slice(1),t=this.props.data[0];if(e){var n=e.map((function(e){return r.a.createElement(O,{day:e})})),a=t.map((function(e){return r.a.createElement("th",null,e)}));return r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement(S.a,{striped:!0,hover:!0,responsive:!0,className:"border"},r.a.createElement("thead",null,a),r.a.createElement("tbody",null,n),r.a.createElement("thead",null,a)))}return r.a.createElement("h2",null," Something Wrong happend",r.a.createElement("span",{className:"fa fa-filter"}))}}]),n}(a.Component),y=n(503),j=n(498),w=n(494),T=n(501),N=n(492),_=n(493),A=[[[],["9:00-10:30"],["10:30-12"],["12:00-1:30"],["1:30-2:30"],["2:30-4:00"],["4:00-5:30"]],[["Mon"],[],[],[],[],[],[]],[["Tue"],[],[],[],[],[],[]],[["Wed"],[],[],[],[],[],[]],[["Thu"],[],[],[],[],[],[]],[["Fri"],[],[],[],[],[],[]]],F=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={courses:[],schedule:JSON.parse(JSON.stringify(A)),season:!1},a.handleCourseChange=a.handleCourseChange.bind(Object(b.a)(a)),a.updateSchedule=a.updateSchedule.bind(Object(b.a)(a)),a.findpos=a.findpos.bind(Object(b.a)(a)),a}return Object(l.a)(n,[{key:"findpos",value:function(e){var t=this.props.schedule.monsoon;this.state.season&&(t=this.props.schedule.winter);for(var n=[],a=1;a<=5;a++)for(var r=1;r<=6;r++)t[a.toString()][r.toString()].includes(e)&&n.push([a,r]);return n}},{key:"updateSchedule",value:function(){for(var e=JSON.parse(JSON.stringify(A)),t=0;t<this.state.courses.length;t++)for(var n=this.findpos(this.state.courses[t]),a=0;a<n.length;a++){var r=n[a][0],s=n[a][1];e[r][s].push(this.state.courses[t])}this.setState({schedule:e})}},{key:"handleCourseChange",value:function(e,t){var n=this,a=(t||e.target).value;this.setState(Object(E.a)({},this.state.courses,{courses:a}),(function(){return n.updateSchedule()}))}},{key:"onChange",value:function(){this.setState({season:!this.state.season,courses:[]})}},{key:"render",value:function(){var e=null;return this.props.isLoading?e=[{key:"loading",value:r.a.createElement(N.a,null),text:r.a.createElement(N.a,null),disabled:!0}]:this.props.errmess?e=[{key:"error",value:this.props.errmess,text:this.props.errmess,disabled:!0}]:(e=this.props.courses.monsoon,this.state.season&&(e=this.props.courses.winter)),r.a.createElement("div",{className:"container"},r.a.createElement(_.a,{onClick:function(){return window.print()},className:"d-print-none printbutton"},r.a.createElement("span",{className:"fa fa-file"})," Print To pdf"),r.a.createElement("div",{className:"row"},r.a.createElement(k,{data:this.state.schedule})),r.a.createElement("hr",null),r.a.createElement(y.a,{className:"d-print-none"},r.a.createElement("div",{className:"text-center"},r.a.createElement(j.a,null,r.a.createElement(j.a.Field,{inline:!0},r.a.createElement("label",null,"Monsoon"),r.a.createElement(w.a,{slider:!0,disabled:!0,checked:this.state.season,onChange:this.onChange.bind(this)}),r.a.createElement("label",null,"Winter")))),r.a.createElement(T.a,{placeholder:"Select Courses",fluid:!0,multiple:!0,search:!0,openOnFocus:!0,clearable:!0,selection:!0,options:e,value:this.state.courses,onChange:this.handleCourseChange})))}}]),n}(a.Component),D=n(262),L=n(499),x=n(502),H=n(56),M=n(113),U=n(495),W=n(496),R=n(497),I=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={name:"",message:""},a.onChange=a.onChange.bind(Object(b.a)(a)),a}return Object(l.a)(n,[{key:"onChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={emailto:"itissandeep98@gmail.com",message:this.state.message,subject:"TimeTableManager: Message from "+this.state.name};v.a.get("https://jsonserver-f.herokuapp.com/sendmail",{params:t}),this.setState({name:"",message:""})}},{key:"render",value:function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement(U.a,{onSubmit:this.onSubmit.bind(this)},r.a.createElement(W.a,null,r.a.createElement(R.a,{type:"text",name:"name",placeholder:"Name",value:this.state.name,onChange:this.onChange})),r.a.createElement(W.a,null,r.a.createElement(R.a,{type:"textarea",name:"message",placeholder:"Feedback",value:this.state.message,onChange:this.onChange})),r.a.createElement(x.a,{circular:!0,floated:!0,positive:!0}," ",r.a.createElement("span",{className:"fa fa-paper-plane"})," Send")))}}]),n}(a.Component),J=function(){var e=Object(a.useState)(!1),t=Object(D.a)(e,2),n=t[0],s=t[1];return r.a.createElement("div",{className:"float-right d-print-none"},r.a.createElement(L.a,{content:r.a.createElement(I,null),on:"click",onClose:function(){return s(!1)},onOpen:function(){return s(!0)},open:n,trigger:r.a.createElement(x.a,{circular:!0,icon:!0,color:"black"},r.a.createElement(H.a,{name:"chat",size:"large"})),position:"top right"}))},P=function(){return r.a.createElement("div",{className:"container d-print-none"},r.a.createElement("br",null),r.a.createElement("h2",null,"Important Links"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://drive.google.com/drive/folders/1YqptkWKt6iKvoImkJYRlB_2yRH69K_D2",target:"_blank",rel:"noopener noreferrer"},"Course Descriptions")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://docs.google.com/document/d/1v8EJcxPvXgtNYNFtnUjrvdiP3F5UZMM3vqw7HcDsN7A",target:"_blank",rel:"noopener noreferrer"},"Review of electives")),r.a.createElement("li",null,"Current Time Table ",r.a.createElement("a",{href:"https://iiitd.ac.in/academics/m2020",target:"_blank",rel:"noopener noreferrer"},"(Monsoon 2020)"))))},B=n(119),K=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchData()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(F,{courses:this.props.courses.courses,schedule:this.props.schedule,isLoading:this.props.courses.isLoading,errmess:this.props.courses.errmess}),r.a.createElement(P,null),r.a.createElement(J,null))}}]),n}(a.Component),Y=Object(d.connect)((function(e){return{courses:e.courses,schedule:e.schedule.schedule}}),(function(e){return{fetchData:function(){return e(function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"DATA_FETCH_LOADING"}),e.next=3,v.a.get("https://jsonserver-f.herokuapp.com/itissandeep98/TimeTableManager").then((function(e){e.data.errmess?t({type:"DATA_FETCH_FAILED",errmess:"Error in fetched data. Try reloading"}):(t({type:"COURSE_FETCH_SUCCESS",courses:e.data.courses}),t({type:"SCHEDULE_FETCH_SUCCESS",schedule:e.data.schedule}))})).catch((function(e){t({type:"DATA_FETCH_FAILED",errmess:"Error in connection with Server. Try reloading"})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},resetFeedbackform:function(){e(B.actions.reset("feedback"))}}}))(K);var q=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Y,null))},G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(478),n(479),n(480),n(481);var X=n(34),Z=n(261),$=(n(482),{isLoading:!0}),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_FETCH_LOADING":return Object(E.a)({},e,{isLoading:!0});case"COURSE_FETCH_SUCCESS":var n=t.courses;return Object(E.a)({},e,{courses:n,errmess:null,isLoading:!1});case"DATA_FETCH_FAILED":return Object(E.a)({},e,{errmess:t.errmess,isLoading:!1});default:return e}},V={},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SCHEDULE_FETCH_SUCCESS":var n=t.schedule;return Object(E.a)({},e,{schedule:n,errmess:null});default:return e}},te=Object(X.combineReducers)(Object(E.a)({courses:Q,schedule:ee},Object(B.createForms)({feedback:{name:"",message:""}}))),ne=Object(X.createStore)(te,Object(X.applyMiddleware)(Z.a));o.a.render(r.a.createElement(d.Provider,{store:ne},r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/TimeTableManager",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/TimeTableManager","/service-worker.js");G?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):z(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):z(t,e)}))}}()}},[[276,1,2]]]);
//# sourceMappingURL=main.51b70ecc.chunk.js.map